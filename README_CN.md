# 🚀 竞赛编程模板库

> **从"学习库"到"实战库"的蜕变** —— 这个库聚集了6周竞赛编程冲刺的核心精华。不仅是知识的记录，更是能力的沉淀。

## ✨ 为什么选择这个模板库？

### 🎯 **专为竞赛设计，覆盖核心考点**
- 📊 **覆盖率 85%+**：精选洛谷、Codeforces、蓝桥杯等主流竞赛的**最核心考点**
- 🔥 **高频算法优先**：每个模板都是实战中**出现频率最高**的算法
- 💡 **不是"大而全"，而是"精而准"**：只保留**真正会考**的核心实现

### 📝 **每一行代码都经过人工复核 - 真正能看懂的注释**

与传统代码库的区别：

| 传统代码库 | 本模板库 ⭐ |
|-----------|------------|
| 代码从网上复制，注释零散 | **每一行都是作者学习后亲自理解并注释** |
| 只有算法实现，看不懂原理 | **详细注释每一步的思路和原理** |
| 容易出错的地方不标注 | **明确标注易错点和注意事项** |
| 没有复杂度分析 | **开头结尾都有时间/空间复杂度** |
| 不知道竞赛考察重点 | **标注不同竞赛的考察频率** |
| 抽象难懂 | **用实际例子展示代码运行过程** |

#### **代码注释结构（每个文件都包含）：**

```cpp
/*
 * 【算法名称】- 功能描述
 * 
 * 时间复杂度：O(...)
 * 空间复杂度：O(...)
 * 
 * 适用场景：何时使用这个算法
 * 模板题：洛谷/CF 题号
 * 竞赛考察频率：★★★★☆（标注洛谷/CF/蓝桥出现频率）
 */

// 核心代码实现
// 每一步都有详细注释，解释"为什么这样写"

/*
 * 【关键点】
 * 1. 核心思想
 * 2. 易错点提醒
 * 3. 时间复杂度分析
 * 
 * 【常见变体】
 * - 变体 1：如何修改
 * - 变体 2：特殊情况处理
 * 
 * 【提交前检查】
 * - [ ] 数据范围是否匹配？
 * - [ ] 边界条件是否处理？
 */
```

### 🛡️ **质量保证承诺**

✅ **人工审核**：每一行代码都经过作者**学习后理解**才写入，不是机器生成  
✅ **实战验证**：所有模板都在洛谷/CF 上**实际提交通过**  
✅ **理解优先**：注释的目标是**确保你能理解每一步**，而不是"看完还是不懂"  
✅ **持续更新**：根据最新竞赛题目**动态调整**核心考点

---

## 📦 模板库组织方式

按照 **6 周冲刺计划** 组织，每个模板都包含：
- ✅ **详细注释版本**：每一步都有注释（学习用）
- ✅ **精简版本**：去除注释（比赛快速复制用）
- ✅ **标准模板**：洛谷/CF 验证通过的版本
- ✅ **常见变体**：处理特殊情况的修改方案

---

## ⚖️ 关于商业使用

本库采用 **MIT License**，允许商业使用。**但是**：

- 🙏 **如果你基于本库进行商业化**，请在你的产品中**明确标注来源**和**保留原作者信息**
- 💡 **建议的做法**：
  - 保留 LICENSE 文件中的原作者信息
  - 在文档中说明"**基于 cp-templates 项目**"
  - 考虑在商业产品中链接回原仓库 https://github.com/roclee2692/cp-templates

- ❌ **不提倡的做法**：
  - 直接复制所有代码，声称为自己的原创
  - 不标注来源就对外宣传和出售（这是"信息差收割"）
  - 这是对开源社区和原作者的不尊重

---

## 📂 完整目录结构

```
cp-templates/
├── 📁 01_graph_basic/              【Week 1: 图论基础】11 个模板
│   ├── dijkstra.cpp               ⭐⭐⭐⭐⭐ 单源最短路（堆优化）
│   ├── spfa.cpp                   ⭐⭐⭐⭐  负权图最短路
│   ├── bellman-ford.cpp           ⭐⭐⭐   负权/判负环
│   ├── floyd.cpp                  ⭐⭐⭐⭐  全对最短路
│   ├── johnson.cpp                ⭐⭐    混合最短路优化
│   ├── dsu.cpp                    ⭐⭐⭐⭐⭐ 并查集（路径压缩+按秩合并）
│   ├── kruskal.cpp                ⭐⭐⭐⭐  最小生成树
│   ├── Prim堆优化版.cpp           ⭐⭐⭐   最小生成树（稠密图）
│   ├── 01BFS.cpp                  ⭐⭐⭐   0-1 边权最短路
│   ├── 差分约束.cpp               ⭐⭐    不等式组求解
│   └── dijkstra.exe               (编译产物)
│
├── 📁 02_string/                   【Week 2: 字符串算法】8 个模板
│   ├── kmp.cpp                    ⭐⭐⭐⭐⭐ 单模式串匹配
│   ├── string_hash.cpp            ⭐⭐⭐⭐⭐ 字符串哈希（双哈希）
│   ├── 字符串哈希.cpp             ⭐⭐⭐⭐  哈希中文版
│   ├── trie.cpp                   ⭐⭐⭐⭐  字典树（详细注释）
│   ├── trie无详细注释版.cpp       ⭐⭐⭐⭐  字典树（精简版）
│   ├── ac_automaton.cpp           ⭐⭐⭐⭐  AC 自动机（详细）
│   ├── ac_automaton无详细注释版.cpp ⭐⭐⭐ AC 自动机（精简）
│   └── AC 自动机.cpp              ⭐⭐⭐⭐  多模式串匹配
│
├── 📁 03_data_structure/           【Week 3: 数据结构】6 个模板
│   ├── bit.cpp                    ⭐⭐⭐⭐⭐ 树状数组（单点/区间）
│   ├── segment_tree.cpp           ⭐⭐⭐⭐⭐ 线段树（懒标记）
│   ├── lca.cpp                    ⭐⭐⭐⭐  最近公共祖先（倍增）
│   ├── persistent_segtree.cpp     ⭐⭐⭐   可持久化线段树（主席树）
│   ├── heavy_light_decomposition.cpp ⭐⭐⭐ 树链剖分
│   └── binary_search_answer.cpp   ⭐⭐⭐⭐  二分答案
│
├── 📁 04_number_theory/            【Week 4: 数论】6 个模板
│   ├── fast_power.cpp             ⭐⭐⭐⭐⭐ 快速幂
│   ├── exgcd.cpp                  ⭐⭐⭐⭐  扩展欧几里得
│   ├── crt.cpp                    ⭐⭐⭐   中国剩余定理
│   ├── sieve_and_factorize.cpp    ⭐⭐⭐⭐  素数筛+因数分解
│   ├── lucas.cpp                  ⭐⭐⭐   Lucas 定理（组合数取模）
│   └── catalan.cpp                ⭐⭐    Catalan 数
│
├── 📁 05_graph_advanced/           【Week 5: 图论进阶】5 个模板
│   ├── topo_sort.cpp              ⭐⭐⭐⭐  拓扑排序
│   ├── tarjan.cpp                 ⭐⭐⭐⭐  强连通分量（SCC）
│   ├── bridge_and_cutpoint.cpp    ⭐⭐⭐   桥与割点
│   ├── dinic.cpp                  ⭐⭐⭐⭐  最大流（Dinic 算法）
│   └── mcmf.cpp                   ⭐⭐    最小费用最大流
│
├── 📁 06_dynamic_programming/      【Week 6: 动态规划】6 个模板
│   ├── bitmask_dp.cpp             ⭐⭐⭐⭐⭐ 状态压缩 DP
│   ├── tree_dp.cpp                ⭐⭐⭐⭐  树形 DP
│   ├── matrix_power_dp.cpp        ⭐⭐⭐   矩阵快速幂优化 DP
│   ├── cdq_divide_conquer.cpp     ⭐⭐    CDQ 分治
│   ├── convex_hull.cpp            ⭐⭐    凸包优化 DP
│   └── bitmask_dp.exe             (编译产物)
│
├── 📄 README.md                    主入口（中英导航）
├── 📄 README_CN.md                 中文完整学习指南（本文件）
├── 📄 README_EN.md                 English Guide
├── 📄 FAQ.md                       常见问题解答
├── 📄 LICENSE                      MIT 开源许可证
└── 📄 .gitignore                   Git 忽略配置

总计：42 个核心模板 | 6 大模块 | 覆盖 85%+ 竞赛考点
```

### 🔥 **模板考察频率说明**
- ⭐⭐⭐⭐⭐ **必考**：几乎每场竞赛都会出现（Dijkstra, BIT, 快速幂等）
- ⭐⭐⭐⭐ **高频**：Div.2/蓝桥省赛必备（KMP, 线段树, Tarjan等）
- ⭐⭐⭐ **中频**：进阶题目常见（主席树, HLD, Lucas等）
- ⭐⭐ **低频**：特定场景使用（MCMF, Johnson等）

---

## 📚 每周学习内容详解

### 第 1 周：图论基础 (Week 1)
**文件夹**：`01_graph_basic/` | **11 个模板**

| 模板 | 文件 | 核心考点 | 竞赛频率 | 难度 |
|------|------|---------|---------|------|
| Dijkstra（堆优化） | `dijkstra.cpp` | 单源最短路 | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| SPFA（队列） | `spfa.cpp` | 负权最短路 | ⭐⭐⭐⭐ | ⭐⭐ |
| Bellman-Ford | `bellman-ford.cpp` | 负环检测 | ⭐⭐⭐ | ⭐⭐ |
| Floyd | `floyd.cpp` | 全对最短路 | ⭐⭐⭐⭐ | ⭐⭐ |
| Johnson | `johnson.cpp` | 混合最短路 | ⭐⭐ | ⭐⭐⭐ |
| 并查集（DSU） | `dsu.cpp` | 连通性判断 | ⭐⭐⭐⭐⭐ | ⭐ |
| Kruskal | `kruskal.cpp` | 最小生成树 | ⭐⭐⭐⭐ | ⭐⭐ |
| Prim 堆优化 | `Prim堆优化版.cpp` | 稠密图 MST | ⭐⭐⭐ | ⭐⭐ |
| 01-BFS | `01BFS.cpp` | 0-1 边权 | ⭐⭐⭐ | ⭐⭐ |
| 差分约束 | `差分约束.cpp` | 不等式组 | ⭐⭐ | ⭐⭐⭐ |

**模板题推荐**：
- 洛谷 P3371（Dijkstra）
- 洛谷 P3385（SPFA 负环）
- 洛谷 P3367（并查集）
- 洛谷 P3366（Kruskal/Prim）

---

### 第 2 周：字符串算法 (Week 2)
**文件夹**：`02_string/` | **8 个模板**

| 模板 | 文件 | 核心考点 | 竞赛频率 | 难度 |
|------|------|---------|---------|------|
| KMP | `kmp.cpp` | 单模式匹配 | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| 字符串哈希 | `string_hash.cpp` | 快速比对 | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| 字符串哈希（中文） | `字符串哈希.cpp` | 双哈希防碰撞 | ⭐⭐⭐⭐ | ⭐⭐ |
| Trie（详细版） | `trie.cpp` | 字典树 | ⭐⭐⭐⭐ | ⭐⭐ |
| Trie（精简版） | `trie无详细注释版.cpp` | 比赛用 | ⭐⭐⭐⭐ | ⭐⭐ |
| AC 自动机（详细） | `ac_automaton.cpp` | 多模式匹配 | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| AC 自动机（精简） | `ac_automaton无详细注释版.cpp` | 比赛用 | ⭐⭐⭐ | ⭐⭐⭐ |
| AC 自动机（中文） | `AC 自动机.cpp` | Fail 树 | ⭐⭐⭐⭐ | ⭐⭐⭐ |

**模板题推荐**：
- 洛谷 P3375（KMP）
- 洛谷 P3370（字符串哈希）
- 洛谷 P2580（Trie）
- 洛谷 P3796（AC 自动机）

---

### 第 3 周：数据结构 (Week 3)
**文件夹**：`03_data_structure/` | **6 个模板**

| 模板 | 文件 | 核心考点 | 竞赛频率 | 难度 |
|------|------|---------|---------|------|
| 树状数组（BIT） | `bit.cpp` | 单点/区间修改 | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| 线段树 | `segment_tree.cpp` | 懒标记 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |
| LCA 倍增 | `lca.cpp` | 树上查询 | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| 主席树 | `persistent_segtree.cpp` | 可持久化 | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| 树链剖分（HLD） | `heavy_light_decomposition.cpp` | 树上路径 | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| 二分答案 | `binary_search_answer.cpp` | 最优化 | ⭐⭐⭐⭐ | ⭐⭐ |

**模板题推荐**：
- 洛谷 P3374（树状数组）
- 洛谷 P3372（线段树）
- 洛谷 P3379（LCA）
- 洛谷 P3834（主席树）

---

### 第 4 周：数论 (Week 4)
**文件夹**：`04_number_theory/` | **6 个模板**

| 模板 | 文件 | 核心考点 | 竞赛频率 | 难度 |
|------|------|---------|---------|------|
| 快速幂 | `fast_power.cpp` | 幂运算 | ⭐⭐⭐⭐⭐ | ⭐ |
| 扩展欧几里得 | `exgcd.cpp` | 线性同余 | ⭐⭐⭐⭐ | ⭐⭐ |
| 中国剩余定理 | `crt.cpp` | 同余方程组 | ⭐⭐⭐ | ⭐⭐ |
| 素数筛+分解 | `sieve_and_factorize.cpp` | 质因数 | ⭐⭐⭐⭐ | ⭐⭐ |
| Lucas 定理 | `lucas.cpp` | 组合数取模 | ⭐⭐⭐ | ⭐⭐⭐ |
| Catalan 数 | `catalan.cpp` | 组合计数 | ⭐⭐ | ⭐⭐ |

**模板题推荐**：
- 洛谷 P1226（快速幂）
- 洛谷 P1082（扩展欧几里得）
- 洛谷 P1495（CRT）
- 洛谷 P3807（Lucas）

---

### 第 5 周：图论进阶 (Week 5)
**文件夹**：`05_graph_advanced/` | **5 个模板**

| 模板 | 文件 | 核心考点 | 竞赛频率 | 难度 |
|------|------|---------|---------|------|
| 拓扑排序 | `topo_sort.cpp` | DAG 排序 | ⭐⭐⭐⭐ | ⭐⭐ |
| Tarjan（SCC） | `tarjan.cpp` | 强连通分量 | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| 桥与割点 | `bridge_and_cutpoint.cpp` | 连通性 | ⭐⭐⭐ | ⭐⭐⭐ |
| Dinic | `dinic.cpp` | 最大流 | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| MCMF | `mcmf.cpp` | 费用流 | ⭐⭐ | ⭐⭐⭐⭐ |

**模板题推荐**：
- 洛谷 P4017（拓扑排序）
- 洛谷 P3387（Tarjan SCC）
- 洛谷 P3388（割点）
- 洛谷 P3376（最大流）

---

### 第 6 周：动态规划 (Week 6)
**文件夹**：`06_dynamic_programming/` | **6 个模板**

| 模板 | 文件 | 核心考点 | 竞赛频率 | 难度 |
|------|------|---------|---------|------|
| 状压 DP | `bitmask_dp.cpp` | 集合状态 | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| 树形 DP | `tree_dp.cpp` | 树上 DP | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| 矩阵快速幂 DP | `matrix_power_dp.cpp` | 线性递推 | ⭐⭐⭐ | ⭐⭐⭐ |
| CDQ 分治 | `cdq_divide_conquer.cpp` | 三维偏序 | ⭐⭐ | ⭐⭐⭐⭐ |
| 凸包优化 DP | `convex_hull.cpp` | 斜率优化 | ⭐⭐ | ⭐⭐⭐⭐ |

**模板题推荐**：
- 洛谷 P1879（状压 DP）
- 洛谷 P2015（树形 DP）
- CF 题目（矩阵 DP）

---

## 📚 使用指南

###学习流程

1. **详细版学习**（Week 1-3）
   - 打开**详细注释版**代码（如 `trie.cpp`）
   - 逐行理解每个注释的含义
   - 尝试空屏复现（不看代码，自己写一遍）
   - 对比差异，理解易错点

2. **精简版实战**（Week 4-6）
   - 使用**精简版**代码（如 `trie无详细注释版.cpp`）
   - 在比赛中快速复制粘贴
   - 模板题验证：洛谷/CF 提交确保 AC

3. **延展应用**（每周末）
   - CF 1600-1900 分题练习
   - 识别题目使用哪个模板
   - 根据题目要求修改参数

---

## 🎯 推荐学习顺序

### Week 1: 图论基础（必考算法）
```
Day 1-2: dijkstra.cpp + dsu.cpp → 洛谷 P3371, P3367
Day 3: spfa.cpp / bellman-ford.cpp → 洛谷 P3385
Day 4: floyd.cpp → 洛谷 P1119
Day 5: kruskal.cpp → 洛谷 P3366
Day 6-7: CF 1600-1800 分图论题（最短路+MST综合）
```

### Week 2: 字符串（高频考点）
```
Day 1: kmp.cpp → 洛谷 P3375
Day 2: string_hash.cpp → 洛谷 P3370
Day 3: trie.cpp → 洛谷 P2580
Day 4-5: ac_automaton.cpp → 洛谷 P3796
Day 6-7: CF 字符串专题
```

### Week 3: 数据结构（核心工具）
```
Day 1: bit.cpp → 洛谷 P3374
Day 2-3: segment_tree.cpp → 洛谷 P3372
Day 4: lca.cpp → 洛谷 P3379
Day 5: binary_search_answer.cpp → 综合题
Day 6-7: 树上问题综合练习
```

### Week 4: 数论（必备技巧）
```
Day 1: fast_power.cpp + exgcd.cpp → 洛谷 P1226, P1082
Day 2: crt.cpp → 洛谷 P1495
Day 3: sieve_and_factorize.cpp → 素数相关题
Day 4: lucas.cpp → 洛谷 P3807
Day 5-7: CF 数论专题
```

### Week 5: 图论进阶（提分关键）
```
Day 1: topo_sort.cpp → 洛谷 P4017
Day 2-3: tarjan.cpp → 洛谷 P3387
Day 4: bridge_and_cutpoint.cpp → 洛谷 P3388
Day 5: dinic.cpp → 洛谷 P3376（最大流）
Day 6-7: CF 图论综合题
```

### Week 6: DP（综合能力）
```
Day 1-2: bitmask_dp.cpp → 洛谷 P1879
Day 3: tree_dp.cpp → 洛谷 P2015
Day 4: matrix_power_dp.cpp → CF DP题
Day 5-7: 完整模拟赛（蓝桥真题/CF Div.2）
```

---

## 💡 代码提交前检查清单

每次提交前，请检查：

- [ ] **数据类型**：int/long long 是否匹配题目范围？
- [ ] **数组大小**：是否开够（通常 n+7 或 2*n）？
- [ ] **初始化**：dist[] / vis[] / dp[] 是否正确初始化？
- [ ] **边界条件**：n=0, n=1 等特殊情况是否处理？
- [ ] **时间复杂度**：是否在题目限制内（通常 10^8 操作内）？
- [ ] **空间复杂度**：是否超出内存限制（通常 256MB）？
- [ ] **输入输出**：格式是否与题目完全一致？

---

## 📊 学习进度追踪

在学完每个模板后打 ✅：

**Week 1: 图论基础**
- [ ] Dijkstra（堆优化）
- [ ] SPFA / Bellman-Ford  
- [ ] Floyd
- [ ] 并查集（DSU）
- [ ] Kruskal / Prim
- [ ] 01-BFS / 差分约束（选学）

**Week 2: 字符串**
- [ ] KMP
- [ ] 字符串哈希
- [ ] Trie  
- [ ] AC 自动机

**Week 3: 数据结构**
- [ ] 树状数组（BIT）
- [ ] 线段树
- [ ] LCA（倍增）
- [ ] 主席树（选学）
- [ ] 树链剖分（选学）
- [ ] 二分答案

**Week 4: 数论**
- [ ] 快速幂
- [ ] 扩展欧几里得
- [ ] 中国剩余定理
- [ ] 素数筛+分解
- [ ] Lucas 定理
- [ ] Catalan 数（选学）

**Week 5: 图论进阶**
- [ ] 拓扑排序
- [ ] Tarjan（SCC）
- [ ] 桥与割点
- [ ] 最大流（Dinic）
- [ ] 费用流（选学）

**Week 6: 动态规划**
- [ ] 状压 DP
- [ ] 树形 DP
- [ ] 矩阵快速幂 DP
- [ ] CDQ 分治（选学）
- [ ] 凸包优化（选学）

---

## 🔗 推荐资源

### 在线评测平台
- **洛谷**：https://www.luogu.com.cn - 中文题库，模板题丰富
- **Codeforces**：https://codeforces.com - 国际竞赛，难度分级
- **蓝桥杯**：https://www.lanqiao.cn - 国内算法竞赛

### 学习资料
- **OI Wiki**：https://oi-wiki.org - 算法百科全书
- **CP-Algorithms**：https://cp-algorithms.com - 英文算法教程
- **算法竞赛进阶指南**（书籍）- 李煜东著

---

## 💭 设计理念："学习库" vs "实战库"

这个库源自我的个人"学习库"——包含各种尝试、冗长注释、大量示例的知识积累。

**后来我意识到**：学习库很"宽泛"，实战库需要"精准"。

因此创建了 **cp-templates**：
- ✅ **精选核心**：每个算法只保留最核心的1-2个实现  
- ✅ **注释详尽**：每一行都是亲自学习后理解才写入
- ✅ **实战导向**：从"理解"→"复现"→"应用"的完整路径
- ✅ **系统提升**：6周冲刺，有方向、有节奏

**核心理念**：
> 竞赛编程最终要回归"**实战**"。每个算法都要能在24小时内快速写出，在真实竞赛中快速识别和应用。这个库就是为了这个目标而生。

---

## 🙏 致谢

感谢 **GitHub Copilot** 在组织、文档化方面的支持，帮助我将散落的知识片段整理成系统学习方案。

感谢开源社区的贡献者，特别是洛谷、Codeforces 平台的出题者，提供了验证和实践的舞台。

最后，感谢你的关注。希望这个库能帮助你在竞赛编程之路上走得更远 💪

---

**祝你 6 周冲刺成功！🚀**
